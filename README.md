# 源码打包工具

这个工具用于将指定目录下的源码文件打包成一个 `.tar.gz` 压缩包。工具支持选择指定后缀的文件，保留目录结构，排除特定子目录，并且提供了一个简单的图形用户界面。

## 功能特点

1. **指定文件后缀**：通过界面指定或读取配置文件，选择需要打包的文件类型。
2. **排除特定子目录**：支持用户输入或通过配置文件，排除不需要打包的子目录。
3. **保留目录结构**：打包时保留项目的目录层次结构。
4. **日志输出**：实时显示打包过程中的日志信息。
5. **图形用户界面**：提供简单直观的用户界面，便于操作和管理。

## 系统要求

- Python 3.x
- `tkinter` 模块 (Python 内置)
- 适用于 Windows、macOS 和 Linux 系统

## 安装和运行

### 1. 克隆仓库

```bash
git clone git@github.com:shixukai/source-code-packer.git
cd source-code-packer
```

### 2. 运行工具

在终端中运行以下命令启动图形用户界面：

```bash
python3 main.py
```

## 使用方法

### 界面说明

- **项目路径**：选择要打包的项目根目录。
- **排除的子目录**：输入需要排除的子目录，相对路径用分号 `;` 隔开。
- **文件扩展名**：指定需要打包的文件类型，可以新增和移除扩展名标签。
- **新增扩展名**：输入新的文件扩展名，并点击 `添加` 按钮。
- **日志输出**：显示打包过程中的详细日志信息。
- **清除日志**：清空日志输出框的内容。
- **打包**：点击开始打包，将生成 `.tar.gz` 压缩包。
- **退出程序**：退出应用程序。

### 配置文件

默认配置文件 `config.json` 存放在脚本所在目录。其结构如下：

```json
{
    "project_path": "/path/to/your/project",
    "file_extensions": [".cpp", ".hpp", ".h", ".json"],
    "exclude_dirs": ["dir_to_exclude1", "dir_to_exclude2"]
}
```

- **project_path**：指定的项目路径。如果没有指定，用户需要在界面上手动输入。
- **file_extensions**：需要打包的文件类型列表。
- **exclude_dirs**：需要排除的子目录列表，相对项目路径。

### 操作步骤

1. 运行工具后，选择或输入项目路径。
2. 在“排除的子目录”框中输入不需要打包的目录，多个目录用分号分隔。
3. 在“文件扩展名”部分，可以新增或删除需要打包的文件类型。
4. 点击“打包”按钮，工具会开始打包，并在日志框中显示打包进程。
5. 打包完成后，弹出提示框，询问是否打开压缩包所在目录。

## 常见问题

1. **为什么我无法看到日志信息？**
   确保日志框没有被清空，并且工具正在正确运行。如果问题持续，请检查 Python 环境是否正常。

2. **如何指定更多的文件类型？**
   在“新增扩展名”输入框中输入新的文件扩展名，并点击“添加”按钮。

3. **如何排除多个目录？**
   在“排除的子目录”输入框中用分号 `;` 分隔每个需要排除的目录。

4. **为什么打包后没有生成任何文件？**
   确保项目路径有效，文件扩展名和排除目录配置正确，并且项目中存在匹配的文件。

## 支持和反馈

如果你在使用过程中遇到问题或有任何建议，请提交 [Issue](https://github.com/shixukai/source-code-packer/issues) 或联系项目维护者。

---

感谢你使用源码打包工具！